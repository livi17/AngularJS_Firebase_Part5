<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="icon" href="http://getbootstrap.com/favicon.ico">

<title>AngularJS & Firebase Web App</title>

<link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="css/blog.css" rel="stylesheet">


</head>

<body ng-controller="WelcomeCtrl">

  <div class="blog-masthead">
    <div class="container">
      <nav class="blog-nav">
        <a class="blog-nav-item active" href="#/welcome">Home</a>
        <a class="blog-nav-item " href="#/addPost">Add Post</a>

      </nav>
    </div>
  </div>
  <div class="container">
    <div class="page-header">
      <h1>AngularJS & Firebase App</h1>
    </div>
    <p class="lead">Welcome home <b>{{username}}</b> !!</p>

    <p><button class="btn btn-xs btn-info" data-toggle="modal" data-target="#createModal">CREATE</button></p>


    <!-- list of articles -->
    <div class="list-group" ng-repeat="article in articles">
      <a href="#" onclick="return false;" class="list-group-item active">
        <h4 class="list-group-item-heading">{{article.title}}</h4>
        <p class="list-group-item-text">{{article.post}}</p>
        <span class="pull-right">
          <button class="btn btn-xs btn-info" ng-click="editPost(article.$id)" data-target="#editModal">EDIT</button>
          <button class="btn btn-xs btn-warning" ng-click="confirmDelete(article.$id)" data-target="#deleteModal" >DELETE</button>
        </span>
      </a>
    </div>
  </div>


  <!-- footer -->
  <footer class="footer">
    <div class="container">
      <p class="text-muted"></p>
    </div>
  </footer>
  
  <!-- create modal -->
  <div class="modal fade" id="createModal"  role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form  ng-submit="AddPost()">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
            </button>
            <h4 class="modal-title" id="editModalLabel">Create Post</h4>
          </div>
          <div class="modal-body">
            <!-- Title -->
            <div class="form-group">
              <label class="control-label" for="txtTitle">Title</label>  
              <input id="txtTitle" name="txtTitle" ng-model="article.title" type="text" placeholder="Title of event/memory" class="form-control input-md">
            </div>
            <!-- /Title -->
            <!-- Privacy-->
            <div class="form-group">
              <label class="control-label" for="privacyLevel">Privacy Level</label> 
              <select class="form-control input-md" ng-model="article.privacyLevel" id="privacyLevel" name="privacyLevel">
                <option>Private</option>
                <option>Public</option>
              </select>
            </div>
            <!-- /Privacy-->
            <!-- Question 1 -->
            <p>Is your memory or event location based?</p>
            <div class="radio">
              <label>
                <input type="radio" name="createQ1" id="createQ1Op1" value="option1" ng-click="showme=true">
                Yes
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="createQ1" id="createQ1Op2" value="option2" ng-click="showme=false">
                No
              </label>
            </div>
            <!-- /Question 1 -->
            <!-- event location -->
            <div class="form-group">
              <label class="control-label" for="startDate">Event/Memory Location</label>  
              <input id="eventLoc" name="eventLoc" ng-model="article.eventLoc" type="text" placeholder="location" class="form-control input-md" required />
              <div role="alert">
               <span class="error" ng-show="myForm.input.$error.required">
                   Required!</span>
               <span class="error" ng-show="myForm.input.$error.date">
                   Not a valid date!</span>
              </div>
            </div>
            <!-- /event location-->
            <!-- your location -->
            <div class="form-group">
              <label class="control-label" for="startDate">Your Location</label>  
              <input id="userLoc" name="userLoc" ng-model="article.userLoc" type="text" placeholder="Your Location" class="form-control input-md" required />
              <div role="alert">
               <span class="error" ng-show="myForm.input.$error.required">
                   Required!</span>
               <span class="error" ng-show="myForm.input.$error.date">
                   Not a valid date!</span>
              </div>
            </div>
            <!-- /event location-->
            <!-- Question 2 -->
            <div ng-show="showme" class="ng-hide">
              <p>Were you physically present at the same location of the event/memory?</p>
              <div class="radio">
                <label>
                  <input type="radio" name="createQ2" id="createQ2Op1" value="option1">
                  Yes
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="createQ2" id="createQ2Op2" value="option2">
                  No
                </label>
              </div>
            </div>
            <!-- /Question 2 -->
            <!-- Question 3 -->
            <p>Did it take place on a single day, or did it span multiple days?</p>
            <div class="radio">
              <label>
                <input type="radio" name="createQ3" id="createQ3Op1" value="option1">
                Single
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="createQ3" id="createQ3Op2" value="option2">
                Multiple
              </label>
            </div>
            <!-- /Question 3 -->
            <!-- startdate -->
            <div class="form-group">
              <label class="control-label" for="startDate">Start Date</label>  
              <input id="startDate" name="startDate" ng-model="article.StartDate" type="date" placeholder="yyyy-MM-dd" class="form-control input-md" required />
              <div role="alert">
               <span class="error" ng-show="myForm.input.$error.required">
                   Required!</span>
               <span class="error" ng-show="myForm.input.$error.date">
                   Not a valid date!</span>
              </div>
            </div>
            <!-- /startdate-->
            <!-- startdate -->
            <div class="form-group">
              <label class="control-label" for="endDate">End Date</label>  
              <input id="endDate" name="endDate" ng-model="article.endDate" type="date" placeholder="yyyy-MM-dd" class="form-control input-md" required />
              <div role="alert">
               <span class="error" ng-show="myForm.input.$error.required">
                   Required!</span>
               <span class="error" ng-show="myForm.input.$error.date">
                   Not a valid date!</span>
              </div>
            </div>
            <!-- /startdate-->
            
            <!-- Textarea -->
            <div class="form-group">
              <label class="control-label" for="txtPost">Full Details</label>   
              <textarea class="form-control" id="txtPost" ng-model="article.post" name="txtPost" ></textarea>
            </div>
            <!-- Button -->
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <input id="singlebutton" ng-disabled="!article.title || !article.post || !article.privacyLevel" name="singlebutton" class="btn btn-primary" type="submit" value="Publish" />
          </div>
        </form>
      </div>
    </div>
  </div> 


  <!-- edit modal -->
  <div class="modal fade" id="editModal"  role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
          <h4 class="modal-title" id="editModalLabel">Update Post</h4>
        </div>
        <div class="modal-body">
          <form role="form">
            <div class="form-group">
              <label for="recipient-name" class="control-label">Title:</label>
              <input type="text" ng-model="postToUpdate.title" class="form-control" id="recipient-name">
            </div>
            <div class="form-group">
              <label class="control-label" for="privacyLevel">Privacy</label> 
              <select class="form-control" ng-model="postToUpdate.privacyLevel" id="privacyLevel" name="privacyLevel"><option>Private</option>
                <option>Public</option>
              </select>
            </div>
            <div class="form-group">
              <label for="message-text" class="control-label">Post:</label>
              <textarea ng-model="postToUpdate.post" class="form-control" id="message-text"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" ng-click="update()">Publish</button>
        </div>
      </div>
    </div>
  </div> 

  <!-- delete modal -->
  <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header" style="text-align:center;">
          <h4 class="modal-title" style="color:red;" id="deleteModalLabel">You are going to Delete this post forever !!</h4>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" ng-click="deletePost()">Delete</button>
        </div>
      </div>
    </div>
  </div>



  <div class="container" ng-controller="AppCtrl as app">
    <div class="form-signin">
      <h3>Launch the AngularJS Wizard</h3>

      <div class="thumbnail">
        <img src="images/nacho-libre.jpg" alt="Naaaaaaaaaaacho Libre!">
      </div>
      <button type="button" ng-click="app.open()" class="btn btn-large btn-primary ng-scope">
        I Dare You!
      </button>
      <div class="alert-container">
        <alert ng-if="app.reason" type="info" close="app.closeAlert()">{{app.reason}}</alert>
      </div>
      <div ng-if="app.summary">
        <hr/>
        <h3>Summary for {{app.summary.firstName}} {{app.summary.lastName}}</h3>

        <p><strong>Coming: </strong>{{app.summary.coming}}</p>

        <p><strong>Tacos: </strong>{{app.summary.tacos}}</p>

        <p><strong>Toppings:</strong></p>

        <div class="badge badge-success pull-left" ng-repeat="topping in app.summary.toppings">{{topping}}
        </div>
      </div>
    </div>
  </div>
</body>
</html>
